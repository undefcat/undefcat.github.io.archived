(this["webpackJsonptae-sik"]=this["webpackJsonptae-sik"]||[]).push([[0],{193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(72),o=n.n(a),i=(n(82),n(16)),l=n(5),s=(n(83),function(e,t){return new Array(e).fill(0).map((function(){return function(e){return new Array(e).fill(0).map((function(){return{r:255,g:255,b:255,a:0,fill:!1}}))}(t)}))}),u=function(){return{"left-wall":s(8,13),"center-wall":s(8,23),"right-wall":s(8,12)}},b=Object(c.createContext)({walls:u(),trigger:function(){},setWalls:function(){},resetWalls:function(){}}),j=n(3);var d=function(e){var t=e.block,n=t.r,c=t.g,r=t.b,a=t.a,o="rgba(".concat(n,", ").concat(c,", ").concat(r,", ").concat(a,")");return Object(j.jsxs)("div",{className:"block",children:[Object(j.jsx)("div",{className:"block-overlay",style:{backgroundColor:o}}),Object(j.jsx)("div",{className:"block-image"})]})};var f=function(e){var t=e.blocks.map((function(e,t){return Object(j.jsx)(d,{block:e},t)}));return Object(j.jsx)("div",{className:"blocks",children:t})};var v=function(e){var t=e.id,n=e.blocks.map((function(e,t){return Object(j.jsx)(f,{blocks:e},t)}));return Object(j.jsx)("div",{className:"wall-wrapper",id:t,children:n})},O=function(){return Object(c.useContext)(b)};var w=function(){var e=O().walls;return Object(j.jsxs)("div",{id:"wrap",children:[Object(j.jsx)("div",{className:"background",id:"ground"}),Object(j.jsxs)("div",{id:"walls",children:[Object(j.jsx)(v,{id:"center-wall",blocks:e["center-wall"]}),Object(j.jsx)(v,{id:"left-wall",blocks:e["left-wall"]}),Object(j.jsx)(v,{id:"right-wall",blocks:e["right-wall"]})]}),Object(j.jsx)("div",{className:"background",id:"pillars"})]})},x=n(77),k=["#D0021B80","#F5A62380","#F8E71C80","#8B572A80","#7ED32180","#41750580","#BD10E080","#9013FE80","#4A90E280","#50E3C280","#B8E98680","#00000080","#4A4A4A80","#9B9B9B80","#FFFFFF80"];var g=function(e){var t=e.color,n=e.onChange;return Object(j.jsx)("section",{children:Object(j.jsx)(x.a,{color:t,onChange:n,presetColors:k})})};var p=function(e){var t=e.wallId,n=e.blocksId,r=e.id,a=e.color,o=e.trigger,i=a.r,l=a.g,s=a.b,u=a.a,b="rgba(".concat(i,",").concat(l,",").concat(s,",").concat(u,")"),d=Object(c.useCallback)((function(e){1===e.buttons&&o(t,n,r)}),[t,n,r,o]),f=Object(c.useCallback)((function(){o(t,n,r)}),[t,n,r,o]);return Object(j.jsx)("div",{className:"mini-map-block",style:{backgroundColor:b},onMouseEnter:d,onMouseDown:f})};var h=function(e){var t=e.wallId,n=e.blocksId,c=e.blocks,r=O().trigger,a=c.map((function(e,c){return Object(j.jsx)(p,{wallId:t,blocksId:n,id:c,color:e,trigger:r},c)}));return Object(j.jsx)("div",{className:"mini-map-blocks",children:a})};var m=function(e){var t=e.id,n=e.blocks.map((function(e,n){return Object(j.jsx)(h,{wallId:t,blocksId:n,blocks:e},n)}));return Object(j.jsx)("div",{className:"mini-map-walls",children:n})};n(193);var y=function(){var e=O(),t=[];for(var n in e.walls)t.push(Object(j.jsx)(m,{id:n,blocks:e.walls[n]},n));return Object(j.jsx)("section",{children:t})};var C=function(){var e=O().resetWalls;return Object(j.jsx)("button",{onClick:function(){window.confirm("\ud604\uc7ac \ubcbd\uc5d0 \uc801\uc6a9\ub41c \uc0c9\uc0c1\uc744 \ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc5b4\uc694?")&&e()},children:"\uce60\ud574\uc9c4 \ubcbd \uc0c9\uc0c1 \ucd08\uae30\ud654"})};var E=function(){var e=O().walls,t=Object(c.useRef)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{type:"button",onClick:function(){var n=[{title:"noname",date:new Date,walls:e}],c=encodeURIComponent(JSON.stringify(n)),r="data:application/json;charset=utf-8,".concat(c);t.current.setAttribute("href",r),t.current.click()},children:"\uc800\uc7a5"}),Object(j.jsx)("a",{download:"save.json",ref:t})]})};var N=function(){var e=O().setWalls;return Object(j.jsx)("input",{accept:"application/json",type:"file",onChange:function(t){var n=t.target.files;if(0!==n.length){var c=n[0],r=new FileReader;r.onload=function(t){var n=t.target.result;try{var c=JSON.parse(n)[0].walls;e(c)}catch(t){alert("\ud30c\uc77c\uc744 \uc77d\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.. \u3160_\u3160 \ud30c\uc77c\uc774 \uae68\uc9c4 \uac83 \uac19\uc2b5\ub2c8\ub2e4.")}},r.readAsText(c)}}})};var A=function(){return Object(j.jsxs)("section",{children:[Object(j.jsx)(C,{}),Object(j.jsx)(E,{}),Object(j.jsx)(N,{})]})};n(194);var F=function(e){var t=e.color,n=e.onChangeColor,c=e.visible;return Object(j.jsxs)("div",{className:c?"":"hide",id:"option",children:[Object(j.jsx)(y,{}),Object(j.jsx)(g,{color:t,onChange:n}),Object(j.jsx)(A,{})]})},I=function(e,t){return e.fill?(c=t,(n=e).r===c.r&&n.g===c.g&&n.b===c.b&&n.a===c.a?Object(l.a)(Object(l.a)({},e),{},{a:0,fill:!1}):Object(l.a)(Object(l.a)({},t),{},{fill:!0})):Object(l.a)(Object(l.a)({},t),{},{fill:!0});var n,c};var B=function(){var e=Object(c.useState)(u()),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(i.a)(a,2),s=o[0],d=o[1],f=Object(c.useState)({r:0,g:0,b:0,a:.5}),v=Object(i.a)(f,2),O=v[0],x=v[1],k=Object(c.useState)(0),g=Object(i.a)(k,2),p=g[0],h=g[1],m=function(e,t,c){var a=n[e],o=a[t].map((function(e,t){return t!==c?e:I(e,O)}));a.splice(t,1,o),r(Object(l.a)({},n))};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"KeyQ";Object(c.useEffect)((function(){var n=function(n){n.code===t&&e((function(e){return!e}))};return window.addEventListener("keydown",n),window.addEventListener("beforeunload",(function(e){e.preventDefault(),e.returnValue=""})),function(){window.removeEventListener("keydown",n)}}),[e])}(d,"KeyQ"),function(e){Object(c.useEffect)((function(){var t=function(t){switch(t.key){case"Shift":return void e(1);case"Alt":return void e(2);default:e(0)}},n=function(){e(0)};return window.addEventListener("keydown",t),window.addEventListener("keyup",n),function(){window.removeEventListener("keydown",t),window.removeEventListener("keyup",n)}}),[e])}(h);var y={walls:n,trigger:function(e,t,c){if(!n.hasOwnProperty(e))throw new Error("".concat(e," \uac12\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."));switch(p){case 0:return void m(e,t,c);case 1:return void function(e,t,c){var a=n[e],o=a[t].find((function(e,t){return t===c})),i=I(o,O),s=a[t].map((function(){return Object(l.a)({},i)}));a.splice(t,1,s),r(Object(l.a)({},n))}(e,t,c);case 2:return void function(e,t,c){var a=n[e],o=a[t].find((function(e,t){return t===c})),i=I(o,O),s=a.map((function(e){return e.map((function(e,t){return t!==c?e:Object(l.a)({},i)}))})),u=Object(l.a)({},n);u[e]=s,r(u)}(e,t,c);default:m(e,t,c)}},setWalls:r,resetWalls:function(){r(u())}};return Object(j.jsxs)(b.Provider,{value:y,children:[Object(j.jsx)(w,{color:O}),Object(j.jsx)(F,{color:O,onChangeColor:function(e){x(e.rgb)},visible:s})]})};o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(B,{})}),document.getElementById("root"))},82:function(e,t,n){},83:function(e,t,n){}},[[195,1,2]]]);
//# sourceMappingURL=main.4e3e9a92.chunk.js.map